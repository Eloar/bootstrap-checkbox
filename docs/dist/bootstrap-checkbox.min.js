/**
 * Bootstrap-checkbox
 * http://vsn4ik.github.io/bootstrap-checkbox
 *
 * Copyright 2013-2014 vsn4ik
 * Licensed under the MIT License
 */

if("undefined"===typeof jQuery)throw Error("Bootstrap-checkbox requires jQuery");
(function(a){function c(b,d){this.element=b;this.$element=a(b);if(this.$element.closest("label").length)console.warn("Please do not use bootstrap-checkbox element in label element.");else{this.options=a.extend({},a.fn.checkboxpicker.defaults,d,this.$element.data());this.$group=a('<div class="btn-group">');this.$buttons=a("<a><a>").addClass("btn");var c=this.options.reverse||""===this.options.reverse;this.$off=this.$buttons.eq(c?1:0);this.$on=this.$buttons.eq(c?0:1);this.init()}}c.prototype={init:function(){this.$element.prop("hidden",
!0);this.$off.html(this.options.offLabel);this.$on.html(this.options.onLabel);this.element.checked?(this.$on.addClass("active "+this.options.onClass),this.$off.addClass(this.options.defaultClass)):(this.$off.addClass("active "+this.options.offClass),this.$on.addClass(this.options.defaultClass));this.options.style&&this.$group.addClass(this.options.style);this.element.title?this.$group.attr("title",this.element.title):this.element.disabled||(this.options.offTitle&&this.$off.attr("title",this.options.offTitle),
this.options.onTitle&&this.$on.attr("title",this.options.onTitle));this.element.disabled?(this.$buttons.addClass("disabled"),this.$group.css("cursor","not-allowed")):(this.$buttons.click(this.clicked.bind(this)),this.$element.change(this.toggle.bind(this)),this.$group.attr("tabindex",this.element.tabIndex).keydown(this.keydown.bind(this)),this.element.autofocus&&this.$group.focus(),this.element.id&&a('label[for="'+this.element.id+'"]').click(this.focus.bind(this)),a(this.element.form).on("reset",
this.reset.bind(this)));this.$group.append(this.$buttons).insertAfter(this.element)},toggle:function(){this.$buttons.toggleClass("active "+this.options.defaultClass);this.$off.toggleClass(this.options.offClass);this.$on.toggleClass(this.options.onClass)},focus:function(){this.$group.focus()},change:function(){this.$element.prop("checked",!this.element.checked).change()},clicked:function(b){a(b.target).hasClass("active")||this.change()},keydown:function(a){/^(13|32)$/.test(a.keyCode)&&(a.preventDefault(),
this.change())},reset:function(){(this.element.defaultChecked&&this.$off.hasClass("active")||!this.element.defaultChecked&&this.$on.hasClass("active"))&&this.toggle()}};a.fn.checkboxpicker=function(b){return this.each(function(){var d=a(this);d.data("checkboxpicker")||(new c(this,b),d.data("checkboxpicker",!0))})};a.fn.checkboxpicker.defaults={style:!1,defaultClass:"btn-default",offClass:"btn-danger",onClass:"btn-success",offLabel:"No",onLabel:"Yes",offTitle:!1,onTitle:!1}})(jQuery);
